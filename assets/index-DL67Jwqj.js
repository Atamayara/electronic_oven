(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const a="dj00aiZpPTdmTXpveGl1b256dSZzPWNvbnN1bWVyc2VjcmV0Jng9Yjk-",u=`https://jlp.yahooapis.jp/MAService/V2/parse?appid=${encodeURIComponent(a)}`,c=document.getElementById("inputTextarea"),d=document.getElementById("submit"),f=document.getElementById("copy"),l=document.getElementById("errorText");d.onclick=s=>{const r=c.value;p(r).then(t=>{t?(l.style.visibility="hidden",c.value=t):l.style.visibility="visible"})};f.onclick=s=>{navigator.clipboard.writeText(c.value)};async function p(s){const r=Date.now();try{const t=await fetch(u,{method:"POST",mode:"cors",body:JSON.stringify({id:r,jsonrpc:"2.0",method:"jlp.maservice.parse",params:{q:s}})});if(!t.ok)throw new Error(`status: ${t.status}`);const n=await t.json();return m(n.result.tokens)}catch(t){return console.error(t),!1}}function m(s){let r="",t=!1;for(let n=0;n<s.length;n++){const e=s[n];if(console.log(e),e[3]!=="名詞")e[3]!=="未定義語"?t=!0:t=!1;else if(!t){switch(e[4]){case"数詞":case"形式名詞":case"副詞的名詞":break;default:r+="ﾎｶﾎｶの";break}t=!0}r+=e[0]}return r}
